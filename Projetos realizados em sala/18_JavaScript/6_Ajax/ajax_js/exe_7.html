<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Untitled Document</title>

</head>

<body>
<div>
  <input type="button" name="botao" id="botao" value="Button">
</div>
<div id="resposta">
  <p>Cep: <input type="text" id="cep"></p>
  <p>Rua: <input type="text" id="rua" size="150"></p>
  <p>Bairro: <input type="text" id="bairro"></p>
  <p>Cidade: <input type="text" id="cidade"></p>
  <p>UF: <input type="text" id="uf"></p>
</div>
<script type="text/javascript" language="javascript">
  document.querySelector('#botao').addEventListener('click',()=>{
    let cep = document.querySelector('#cep').value;

    let rua = document.querySelector('#rua');
    let bairro =  document.querySelector('#bairro');
    let cidade =  document.querySelector('#cidade');
    let uf =  document.querySelector('#uf');
    let url = "http://viacep.com.br/ws/"+cep+"/json";
    //alert(url);

    let ajax = new XMLHttpRequest;
    ajax.onreadystatechange = ()=>{
      if(ajax.readyState == 4){
        //alert(ajax.responseText);
        resp = JSON.parse(ajax.responseText);
        rua.value = resp.logradouro;
        bairro.value = resp.bairro;
        cidade.value = resp.localidade;
        uf.value = resp.uf;
      }
    }
    ajax.open("GET",url,true);
    ajax.send();

  });


</script>
</body>
</html>
